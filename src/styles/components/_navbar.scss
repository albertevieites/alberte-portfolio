@use "../abstracts" as abstracts;
@use "../abstracts/mixins" as *;

.navbar {
	// Mobile First: Estilos para el navbar en la parte inferior
	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;

	width: 100%;
	padding: 1rem;
	background-color: abstracts.$clr-bk;
	border-radius: 0;
	box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);

	z-index: 1000;

	// Font settings
	color: abstracts.$clr-white;
	transition: color 0.3s ease;

	body.theme-inverted & {
		color: abstracts.$clr-bk;
	}

	// Desktop: Vuelve a la posición superior dentro del grid
	@include respond-above("md") {
		position: static;

		grid-column-start: 2;
		grid-column-end: 4;

		width: auto;
		padding: 1.3rem 2rem;
		background-color: abstracts.$clr-bk;
		transition: background-color 0.3s;
		border-radius: 5rem;
		box-shadow: none;

		z-index: auto;
	}

	&__list {
		display: flex;
		justify-content: space-evenly;
		align-items: center;
		gap: 1rem;
		margin: 0;
		padding: 0;
		list-style: none;

		@include respond-above("md") {
			gap: 3rem;
		}
	}

	&__item-wrapper {
		display: flex;
		align-items: center;
		justify-content: center;
		position: relative;
	}

	&__item {
		position: relative;

		padding: 0.5rem;
		background: none;
		border: none;

		font-family: inherit;
		font-size: 1rem;
		font-weight: 600;
		color: inherit;
		text-decoration: none;
		text-transform: uppercase;
		transition: color 0.3s ease;

		cursor: pointer;

		&:hover {
			color: inherit;
			opacity: 0.7;
		}

		&::after {
			content: "";
			position: absolute;
			bottom: -5px;
			height: 2px;
			background-color: abstracts.$clr-white;
			left: 50%;
			transform: translateX(-50%);
			width: 0;
			transition: width 0.3s ease;

			body.theme-inverted & {
        background-color: abstracts.$clr-bk;
      }
		}

		&--active::after {
			width: 100%;
		}
	}

	// Ocultar/mostrar el enlace Social
	&__item--social {
		// Visible en móvil por defecto
		display: flex;

		// Ocultar en desktop
		@include respond-above("md") {
			display: none;
		}
	}

	&__social-wrapper {
		position: relative;

		// Solo visible en móvil
		@include respond-above("md") {
			display: none;
		}
	}

	&__social-button {
		padding: 0.5rem;
		border: none;
		background: none;

		font: inherit;
		font-size: 1rem;
		font-weight: 600;
		color: inherit;
		text-transform: uppercase;

		cursor: pointer;
	}

	&__social-tooltip {
		position: absolute;
		bottom: 120%;
		left: 25%;

		display: flex;
		gap: 0.75rem;

		padding: 0.75rem;
		background-color: rgba(25, 25, 25, 0.85);
		border: 1px solid rgba(255, 255, 255, 0.1);
		border-radius: 12px;

		visibility: hidden;
		opacity: 0;
		backdrop-filter: blur(8px);
		transform: translateX(-50%);
		transition:
			opacity 0.3s ease,
			visibility 0.3s ease;
		z-index: 1001;

		svg {
			fill: none;
		}

		&::after {
			content: "";
			position: absolute;
			top: 100%;
			left: 50%;
			transform: translateX(-50%);
			border-width: 6px;
			border-style: solid;
			border-color: rgba(25, 25, 25, 0.85) transparent transparent transparent;
		}

		&--active {
			visibility: visible;
			opacity: 1;
		}
	}
}

.social-tooltip {
	&__link {
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 0.5rem;
		border-radius: 50%;
		background-color: rgba(255, 255, 255, 0.1);
		transition: all 0.2s ease-out;

		&:hover {
			background-color: rgba(255, 255, 255, 0.2);
			transform: scale(1.1);
		}
	}

	&__icon {
		width: 24px;
		height: 24px;
		fill: currentColor;
	}
}
