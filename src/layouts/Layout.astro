---
import { SEO } from "astro-seo";
import { ClientRouter, fade } from "astro:transitions";

import Header from "@components/layout/Header.astro";
import Footer from "@components/layout/Footer.astro";

export interface Props {
	title: string;
}

const { title } = Astro.props as Props;
const GA_ID = import.meta.env.PUBLIC_GA_ID;
---

<!doctype html>
<html lang="en" transition:animate={fade({ duration: "0.3s" })}>
	<head>
		<!-- SEO -->
		<SEO
			title="Alberte Vieites's Portfolio"
			description="I'm a Web Developer based in London. I use different technologies, including Javascript (ES6), HTML, CSS, Sass, React, Gatsby, Astro, Node.js, MongoDB, and Express.js."
		/>

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />

		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Rosario:ital,wght@0,300..700;1,300..700&display=swap"
			rel="stylesheet"
		/>

		<!-- Favicon -->
		<link
			rel="icon"
			href="/favicon-dark.svg"
			type="image/svg+xml"
			media="(prefers-color-scheme: light)"
		/>
		<link
			rel="icon"
			href="/favicon.svg"
			type="image/svg+xml"
			media="(prefers-color-scheme: dark)"
		/>

		<!-- Google Tag Manager -->
		<script
			is:inline
			async
			src={`https://www.googletagmanager.com/gtag/js?id=${GA_ID}`}></script>
		<script is:inline type="text/partytown" define:vars={{ GA_ID }}>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());

			gtag("config", GA_ID);
		</script>
		<!-- End Google Tag Manager -->

		<!-- TITLE -->
		<title>{title}</title>

		<ClientRouter />
	</head>
	<body>
		<Header />
		<main>
			<slot />
		</main>
		<Footer />
	</body>
</html>
